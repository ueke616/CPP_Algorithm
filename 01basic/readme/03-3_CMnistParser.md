# mnist数据集
- http://yann.lecun.com/exdb/mnist/
- 安装数据集：`kiwi get-data mnist --save=workspace`


## c++ debug
出现“Segmentation fault (core dumped)”错误时，说明你的程序在尝试访问它没有权限访问的内存区域。要解决这个问题，我们需要调查是哪部分代码导致了段错误。以下是一些排查和调试的建议：

### 使用GDB进行调试
GDB是一个强大的Unix下的调试工具，可以帮助你准确找到引发段错误的代码行。如果你还没有安装GDB，可以根据你的Linux发行版安装它。使用GDB进行调试的基本步骤如下：

1. **编译程序以包含调试信息**：在编译程序时加上`-g`选项。这看起来你的Makefile已经做了（`-g`在`cpp_compile_flags`中），确保你的程序是最新编译的。
   
   ```make
   cpp_compile_flags := -std=$(stdcpp) -w -g -O0 -m64 -fPIC -fopenmp -pthread
   ```

2. **使用GDB运行程序**：
   
   ```sh
   gdb --args $(workdir)/$(name) [程序参数]
   ```

   替换`[程序参数]`为你的程序运行时需要的任何参数。

3. **在GDB内部，输入`run`开始执行程序**。当程序崩溃时，GDB会停下来，此时你可以使用`bt`命令（backtrace的缩写）来查看函数调用栈，这通常可以帮助你找到问题所在。

### 检查常见的错误原因
- **空指针解引用**：确保你没有尝试访问空指针引用的内存。
- **数组越界**：检查是否有数组访问超出了其分配的内存范围。
- **动态内存管理错误**：确认所有使用`new`分配的内存最终都被`delete`释放，特别是没有多次释放同一块内存。

### 使用其他工具
如果GDB没有给出足够的线索，或者你想要更深入的分析，可以考虑使用如下工具：
- **Valgrind**：这是一个内存检测工具，能够检测内存泄漏、未初始化内存访问和支持的其他错误。使用`valgrind`运行你的程序可能会显著减慢执行速度，但它能提供关于内存问题的详细报告。
  
  ```sh
  valgrind $(workdir)/$(name) [程序参数]
  ```

- **AddressSanitizer**：GCC和Clang都支持这个内存错误检测工具，通过在编译时加上`-fsanitize=address`可以启用它。这比Valgrind快，但可能不会捕获所有类型的错误。

通过上述步骤和工具，你应该能够定位并解决程序中的段错误。如果问题仍然存在，你可能需要更仔细地审查代码，或者考虑是否有外部因素（如操作系统限制、硬件问题等）影响程序运行。